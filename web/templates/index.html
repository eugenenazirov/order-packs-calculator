<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Packs Calculator</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <header class="app-header">
        <h1>Order Packs Calculator</h1>
        <p class="subtitle">Compute the minimal number of packs required for any order.</p>
    </header>

    <main class="layout">
        <section class="card" aria-labelledby="pack-sizes-heading">
            <div class="card-header">
                <h2 id="pack-sizes-heading">Pack Sizes</h2>
                <p class="card-description">Adjust the available pack sizes used during calculations.</p>
            </div>
            <form id="pack-sizes-form" novalidate>
                <div class="input-group">
                    <label for="pack-sizes-input" class="input-label">Pack sizes (comma separated)</label>
                    <input
                        id="pack-sizes-input"
                        name="packSizes"
                        type="text"
                        inputmode="numeric"
                        pattern="^[0-9,\s]+$"
                        placeholder="250, 500, 1000, 2000, 5000"
                        required
                        aria-describedby="pack-sizes-help"
                    />
                    <p id="pack-sizes-help" class="help-text">
                        Enter up to 10 positive integers. Duplicate values are ignored automatically.
                    </p>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn primary">Submit pack sizes change</button>
                    <button type="button" class="btn ghost" id="reset-pack-sizes">Reset to defaults</button>
                </div>
                <p role="status" class="status-message" id="pack-sizes-status" aria-live="polite"></p>
            </form>
            <div class="current-pack-sizes">
                <h3>Current sizes</h3>
                <ul id="pack-sizes-list" class="pill-list" aria-live="polite"></ul>
                <p class="meta" id="pack-sizes-updated-at"></p>
            </div>
        </section>

        <section class="card" aria-labelledby="calculate-heading">
            <div class="card-header">
                <h2 id="calculate-heading">Calculate Packs</h2>
                <p class="card-description">Find the optimal combination for a given number of items.</p>
            </div>
            <form id="calculate-form" novalidate>
                <div class="input-group">
                    <label for="items-input" class="input-label">Number of items</label>
                    <input
                        id="items-input"
                        name="items"
                        type="number"
                        min="0"
                        step="1"
                        placeholder="Enter a positive integer"
                        required
                        aria-describedby="items-help"
                    />
                    <p id="items-help" class="help-text">
                        Supports large orders up to 1,000,000+ items.
                    </p>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn primary">Calculate</button>
                </div>
                <p role="status" class="status-message" id="calculate-status" aria-live="polite"></p>
            </form>

            <div class="results" aria-live="polite">
                <header class="results-header">
                    <h3>Results</h3>
                    <div class="results-summary">
                        <span id="total-packs" class="summary-item"></span>
                        <span id="total-items" class="summary-item"></span>
                        <span id="remainder" class="summary-item"></span>
                        <span id="calculation-time" class="summary-item"></span>
                    </div>
                </header>
                <table class="results-table" aria-describedby="results-caption">
                    <caption id="results-caption">Pack distribution for the requested number of items.</caption>
                    <thead>
                        <tr>
                            <th scope="col">Pack size</th>
                            <th scope="col">Quantity</th>
                        </tr>
                    </thead>
                    <tbody id="results-body">
                        <tr class="placeholder">
                            <td colspan="2">Submit a request to view results.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <p>&copy; <span id="current-year"></span> Order Packs Calculator.</p>
    </footer>

    <template id="result-row-template">
        <tr>
            <td class="pack-size"></td>
            <td class="pack-quantity"></td>
        </tr>
    </template>

    <script src="/static/js/app.js" defer></script>
</body>
</html>
